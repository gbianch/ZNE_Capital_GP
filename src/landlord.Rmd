---
title: "landlord"
author: "Virginia Pan"
date: "10/21/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(googlesheets4)
library(janitor)
library(tidyverse)
library(kableExtra)

MSA_landlord_data <- read_sheet("https://docs.google.com/spreadsheets/d/1zCePYRyJ5lb1Z5jvCujg17EtwqpxJN1E1_HwJL66uLM/edit#gid=122953884") 
```


```{r}
# #only take Y/N columns
# MSA_landlord_data_binary <- MSA_landlord_data %>% 
#   select(cbsa, MSA, rent_control, eviction_notice_days, security_depopsit_limit_YN, notice_for_entry_days_YN)
```

```{r}
#mutate Y/N columns into 0/1

#rent_control
MSA_landlord_data <- MSA_landlord_data %>% 
  mutate(
    rent_control_binary = case_when(
      rent_control == "N" ~ 1, 
      rent_control == "Y" ~ 0))

#security_deposit_limit
MSA_landlord_data <- MSA_landlord_data %>% 
  mutate(
    security_depopsit_limit_binary = case_when(
      security_depopsit_limit_YN == "N" ~ 1, 
      security_depopsit_limit_YN == "Y" ~ 0))

#notice_of_entry_days
MSA_landlord_data <- MSA_landlord_data %>% 
  mutate(
    notice_for_entry_days_binary = case_when(
      notice_for_entry_days_YN == "N" ~ 1, 
      notice_for_entry_days_YN == "Y" ~ 0))
```

```{r}
#normalize eviction notice (days)
MSA_landlord_data <- MSA_landlord_data %>% 
  mutate(
    eviction_notice_days_normalized = (eviction_notice_days-min(eviction_notice_days))/(max(eviction_notice_days)-min(eviction_notice_days)) 
  )

#"invert" normalized score for eviction notice days
#1 - normalized score (since more eviction notice is worse for landlords)
MSA_landlord_data <- MSA_landlord_data %>% 
  mutate(
    eviction_notice_days_normalized_inverted = 1 - eviction_notice_days_normalized
  )
```

```{r}
#calculate landlord category score

#input landlord weights for each indicator in the following order: rent control, security deposit limit, notice for entry, eviction notice days
#Get weights from Owen
#Weights must sum to 1
landlord_weights <- c(0.5, 0.1, 0.1, 0.3)
size <- dim(MSA_landlord_data)
for (x in 1:size[1]) {
  print(x)
}
x```

